# Diary
## 2023-01-27
그동안 LAN 환경에서 잘 사용해 왔다.
이제 WAN 으로 확장해야 할 시기가 되었다.

WAN 으로 확장하려고 했을때 첫번째 어려움은 어디에서 문제가 발생했는지 알수 없다는 점이였다.

node-wrtc 에 문제가 있는지 STUN 에 문제가 있는지 애초에 webrtc 에 문제가 있는것인지 알수 없었다.

방법은 역시 Divide and Conquer 였다.

질문을 'WebRTC 가 왜 안될까?' 가 아닌,
여러 단계로 나누었다.

1. WebRTC 의 기술적 한계를 다시 검토했다.
2. STUN 서버의 문제인지 node-wrtc 의 문제인지 검토했다.
3. node-wrtc 에서만 문제가 발생하는지 검토했다.

WebRTC 의 기술적 한계를 다시 검토는 간단했다.
이미 많은 기업에서 상용으로 쓰고 있기 때문에 문제는 나였다.

STUN 서버의 문제인지를 파악하기 위해 golang 인 pion wrtc 로 테스트 했다.
나의 node-wrtc 와 동일한 에러가 발생했다.
TURN 으로 전환해야 겠다고 생각했다.

node-wrtc 에서만 문제가 발생하는지 확인했다.
golang pion + TURN 조합으로 wrtc 통신이 되는것을 확인했다.

golang pion 의 example 코드를 보니 내 node-wrtc 의 동작과 다르다.
내 node-wrtc 를 더 디버깅해야 겠다.

## 2020-09-25
어려운 문제를 푸는 방법은 심호흡을 하고 다시 천천히 문제를 보는것이다.

어이없고 간단한 이 방법은 의외로 잘 먹힌다.
특히, 일찍 퇴근해서 집안일 하고 운동도 하고 잠을 충분히 자고 돌아오면 새로운 해결책이 떠오른다. 

오늘은 peer connection 을 분석해봤다.
행사코드가 많지만 꼭 못할건 아니라는 생각이 든다.

node.js 로 화면 캡쳐 스트리밍을 하는것도 해냈다.
간단하지만 여기까지 오는데 많은 시간이 필요했다.
처음 하고싶다고 생각한 뒤로 2년의 시간이 지났다.

어쨌든 내가 하고 싶은 것을 느리지만 조금씩은 해내고 있다. 

## 2020-09-24-2
조금씩 보이는 실체는 거대한 몽뚱이를 드러내고 있다. 
이 새로운 친구를 길들이는데 얼마나 걸릴까?

두려움을 명확하게 만드는 방식으로 접근 방법을 다시 바꾸기로 했다.

오늘, 프로젝트에서 구현해야 하는 양을 조절하는데에는 성공했다.
나머지 단 하나, 화면 공유에 우선 집중하겠다.

허나, 처음 peer signaling 부터가 쉽지 않다.
기본 API 동작을 하나씩 분석해서 써야 할지, 라이브러리를 사용해야 할지 모르겠다.
라이브러리에 익숙해지는 시간이 기본 API 사용법을 배우는 시간보다 길수도 있다.
라이브러리가 내 프로젝트에 맞지 않다는 것을 많은 시간이 지난뒤에야 알수도 있다. 

## 2020-09-24-1
원하는 기능을 타겟팅 하면서 알아야 하는 지식의 범위를 좁히고 있다.
오히려 기술 전체에 대한 그림이 더 잘보인다.

새로운 기술을 시작하는 것은 더 많은 에너지를 소모하게 한다.
더 효율적인 방법을 찾도록 계속 노력해야 한다.

## 2020-09-23
어려운 점은 설명이 너무 장황하다는 것이다.
문서의 길이가 너무 길고 읽어보면 기초적인것을 설명하고 있다.
내가 원하는 부분을 딱 맞게 찾기가 어렵다.

최대한 타겟팅해서 읽으려고 노력해야 한다.
잘모르고 시작한다는 것을 전재로 천천히 진행해야 한다.

가장 중요한 것은 스스로 확신을 갖는것이다.
이게 정말 중요하고 필요하다는 것을 스스로 인지해야 한다.

WebRTC 가 될경우 내가 원하는 Serverless IoT 를 좀 더 쉽게 구현할수 있게 된다.
